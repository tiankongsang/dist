(function(e){function t(t){for(var n,o,u=t[0],c=t[1],i=t[2],s=0,f=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&f.push(l[o][0]),l[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,i||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,u=1;u<a.length;u++){var c=a[u];0!==l[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},l={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"06af":function(e){e.exports=JSON.parse('{"elementsList":[]}')},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("8bbf"),l=a("06af"),r=a("cf2e"),o=a("c349"),u=a("ae7b");function c(){const e=[],t={};return{materialsList:e,containerList:t,injection:a=>{e.push(a),t[a.key]=a}}}const i=c();i.injection({label:"按钮",preview:()=>Object(n["createVNode"])(r["a"],null,{default:()=>[Object(n["createTextVNode"])("预览按钮")]}),render:e=>Object(n["createVNode"])(r["a"],e.value.parameter,{default:()=>[e.value.data]}),key:"button"}),i.injection({label:"输入框",preview:()=>Object(n["createVNode"])(o["a"],{placeholder:"预览输入框"},null),render:e=>Object(n["createVNode"])(o["a"],Object(n["mergeProps"])(e.value.parameter,{modelValue:e.value.data,"onUpdate:modelValue":t=>e.value.data=t}),null),key:"input"}),i.injection({label:"标签",preview:()=>Object(n["createVNode"])(u["a"],null,{default:()=>[Object(n["createTextVNode"])("预览标签")]}),render:e=>Object(n["createVNode"])(u["a"],e.value.parameter,{default:()=>[e.value.data]}),key:"tag"});var d=i;a("cad6");function s(){const e={text:"按钮"},t=[{label:"尺寸",key:"input",value:"default",name:"size"},{label:"类型",key:"input",value:"primary",name:"type"},{label:"是否为朴素按钮",key:"radio",value:!1,name:"plain"},{label:"是否为圆角按钮",key:"radio",value:!1,name:"round"},{label:"是否为加载中状态",key:"radio",value:!1,name:"loading"},{label:"按钮是否为禁用状态",key:"radio",value:!1,name:"disabled"}];return{attribute:t,data:e}}var f=s;function p(){const e={text:""},t=[{label:"类型",key:"input",value:"text",name:"type"},{label:"是否显示切换密码图标",key:"radio",value:!1,name:"showPassword"},{label:"输入框尺寸",key:"input",value:"default",name:"size"},{label:"输入框占位文本",key:"input",value:"输入框",name:"placeholder"},{label:"禁用状态",key:"radio",value:!1,name:"disabled"}];return{attribute:t,data:e}}var v=p;function b(){const e={text:"标签"},t=[{label:"类型",key:"input",value:"success",name:"type"},{label:"是否可关闭",key:"radio",value:!1,name:"closable"},,{label:"是否有边框描边",key:"radio",value:!1,name:"hit"},{label:"尺寸",key:"input",value:"default",name:"size"},{label:"Tag 是否为圆形",key:"radio",value:!1,name:"round"},{label:"主题",key:"input",value:"light",name:"effect"}];return{attribute:t,data:e}}var m=b;const j={button:f,input:v,tag:m};function O(e){return j[e]()}var h=O;function y(){return(new Date).getTime()+Math.random().toString(36).substr(2)}function V(e,t){let a=null;function n(e){e.dataTransfer.dropEffect="move"}function l(e){e.preventDefault()}function r(e){e.dataTransfer.dropEffect="none"}function o(t){const n=e.value.elementsList;e.value={...e.value,elementsList:[...n,{top:t.offsetY-a.initTop,left:t.offsetX-a.initLeft,key:a.element.key,focus:!1,attributes:h(a.element.key),id:y(),flag:!0}]}}function u(e,u){t.value.addEventListener("dragenter",n,!1),t.value.addEventListener("dragover",l,!1),t.value.addEventListener("dragleave",r,!1),t.value.addEventListener("drop",o,!1),a={element:u,initLeft:e.offsetX,initTop:e.offsetY}}function c(){t.value.removeEventListener("dragenter",n),t.value.removeEventListener("dragover",l),t.value.removeEventListener("dragleave",r),t.value.removeEventListener("drop",o),a=null}return{dragStart:u,dragEnd:c}}var g=V,N=Object(n["defineComponent"])({props:{item:{type:Object}},setup(e,t){const a=Object(n["inject"])("registrar"),{key:l}=e.item,r=Object(n["computed"])(()=>({left:e.item.left+"px",top:e.item.top+"px"})),o=Object(n["computed"])(()=>{const t={};let a=null;return e.item.attributes.attribute.forEach(e=>{t[e.name]=e.value}),a=e.item.attributes.data.text,{parameter:t,data:a}}),u=Object(n["ref"])(null);return Object(n["onMounted"])(()=>{let{offsetWidth:t,offsetHeight:a}=u.value;e.item.width=t,e.item.height=a}),()=>e.item.flag?Object(n["createVNode"])("div",{class:"canvas_item",style:r.value,ref:u},[a.containerList[l].render(o)]):null}});function k(e,t){let a=Object(n["ref"])(-1);const l=Object(n["computed"])(()=>{const t=[],a=[];return e.value.elementsList.forEach(e=>e.focus?t.push(e):a.push(e)),{checkedArr:t,unselectedArr:a}}),r=Object(n["computed"])(()=>e.value.elementsList[a.value]);function o(){e.value.elementsList.forEach(e=>e.focus=!1),a.value=-1}function u(e,n,l){e.stopPropagation(),e.shiftKey?l.focus=!l.focus:l.focus?l.focus=!1:(o(),l.focus=!0),a.value=n,t(e,l)}return{mouseDown:u,result:l,clearAllFocus:o,lastElement:r}}var x=k;function w(e,t){let a={},l=Object(n["reactive"])({x:null,y:null});function r(n){let{clientX:r,clientY:o}=n,u=r-a.initX,c=o-a.initY;t.value.checkedArr.forEach(e=>{e.left+=u,e.top+=c});let{left:i,top:d}=e.value,{Length:s,wire:f}=a;for(let e=0;e<s;e++)if(Math.abs(f.x[e].top-d)<5){l.x=f.x[e].showTop;break}for(let e=0;e<s;e++)if(Math.abs(f.y[e].left-i)<5){l.y=f.y[e].showLeft;break}a.initX=r,a.initY=o}function o(e){document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",o),a={},l.x=null,l.y=null}function u(){const n={x:[],y:[]};let{width:l,height:r}=e.value;return t.value.unselectedArr.forEach(e=>{if(!e.flag)return;let{top:t,left:a,width:o,height:u}=e;n.x.push({showTop:t,top:t-r}),n.x.push({showTop:t,top:t}),n.x.push({showTop:t+u/2,top:t+u/2-r/2}),n.x.push({showTop:t+u,top:t+u-r}),n.x.push({showTop:t+u,top:t+u}),n.y.push({showLeft:a+o,left:a+o}),n.y.push({showLeft:a,left:a-l}),n.y.push({showLeft:a,left:a}),n.y.push({showLeft:a+o,left:a+o-l}),n.y.push({showLeft:a+o/2,left:a+o/2-l/2})}),a.Length=n.x.length,n}function c(e,t){if(!t.focus)return;let{clientX:n,clientY:l}=e;a.initX=n,a.initY=l,a.wire=u(),document.addEventListener("mousemove",r,!1),document.addEventListener("mouseup",o,!1)}return{continueLogic:c,markerLine:l}}var L=w;function E(e,t){function a(){t.value&&e.value.elementsList.findIndex(e=>{e.id===t.value.id&&(e.flag=!1)})}return{deleteElement:a}}var T=E,_=a("e0ad"),M=a("5c12");function P(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(n["isVNode"])(e)}var S=Object(n["defineComponent"])({props:{item:{type:Object}},setup(e,t){const a=Object(n["ref"])("style");return()=>{let t;return e.item.value?Object(n["createVNode"])("div",{class:"change_data"},[Object(n["createVNode"])(_["b"],{modelValue:a.value,"onUpdate:modelValue":e=>a.value=e},{default:()=>[Object(n["createVNode"])(_["a"],{label:"样式",name:"style"},P(t=e.item.value.attributes.attribute.map(e=>Object(n["createVNode"])("div",{class:"update"},[Object(n["createVNode"])("span",null,[e.label]),Object(n["createVNode"])("span",null,[Object(n["createTextVNode"])(" "),"input"===e.key?Object(n["createVNode"])(o["a"],{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null):Object(n["createVNode"])(M["a"],{modelValue:e.value,"onUpdate:modelValue":t=>e.value=t},null)])])))?t:{default:()=>[t]}),Object(n["createVNode"])(_["a"],{label:"数据",name:"data"},{default:()=>[Object(n["createVNode"])(o["a"],{modelValue:e.item.value.attributes.data.text,"onUpdate:modelValue":t=>e.item.value.attributes.data.text=t},null)]})]})]):Object(n["createVNode"])("div",{class:"noCheckElement"},[Object(n["createVNode"])("span",null,[Object(n["createTextVNode"])("未选中组件")])])}}}),A=a("5a09"),X=a.n(A),Y=Object(n["defineComponent"])({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,t){const a=Object(n["computed"])({get(){return e.modelValue},set(e){t.emit("update:modelValue",e)}}),l=Object(n["inject"])("registrar");let r=Object(n["ref"])(null);const{dragStart:o,dragEnd:u}=g(a,r),{mouseDown:c,result:i,clearAllFocus:d,lastElement:s}=x(a,(e,t)=>f(e,t)),{continueLogic:f,markerLine:p}=L(s,i),{deleteElement:v}=T(a,s),b=[{label:"删除",handler:()=>v(),src:X.a}];return()=>Object(n["createVNode"])("div",{class:"container"},[Object(n["createVNode"])("div",{class:"left"},[l.materialsList.map((e,t)=>Object(n["createVNode"])("div",{class:"left_item"},[Object(n["createVNode"])("div",null,[e.label]),Object(n["createVNode"])("div",{draggable:!0,onDragstart:t=>o(t,e),onDragend:u},[e.preview()])]))]),Object(n["createVNode"])("div",{class:"center"},[Object(n["createVNode"])("div",{class:"title"},[b.map(e=>Object(n["createVNode"])("div",{onClick:e.handler},[Object(n["createVNode"])("img",{src:e.src},null),Object(n["createVNode"])("div",null,[e.label])]))]),Object(n["createVNode"])("div",{class:"content"},[Object(n["createVNode"])("div",{class:"canvas",ref:r,onMousedown:d},[a.value.elementsList.map((e,t)=>Object(n["createVNode"])(N,{class:e.focus?"check":"",item:e,onMousedown:a=>c(a,t,e)},null)),p.x&&Object(n["createVNode"])("div",{class:"markX",style:{top:p.x+"px"}},null),p.y&&Object(n["createVNode"])("div",{class:"markY",style:{left:p.y+"px"}},null)])])]),Object(n["createVNode"])("div",{class:"right"},[Object(n["createVNode"])(S,{item:s},null)])])}});const D={id:"root"};var U={__name:"App",setup(e){const t=Object(n["ref"])(l);return Object(n["provide"])("registrar",d),(e,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",D,[Object(n["createVNode"])(Object(n["unref"])(Y),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e)},null,8,["modelValue"])]))}};a("d975");const C=U;var z=C;Object(n["createApp"])(z).mount("#app")},"5a09":function(e,t,a){e.exports=a.p+"img/sc.8f2e1215.png"},"8bbf":function(e,t){e.exports=Vue},cad6:function(e,t,a){},d975:function(e,t,a){"use strict";a("e107")},e107:function(e,t,a){}});
//# sourceMappingURL=app.92b131af.js.map